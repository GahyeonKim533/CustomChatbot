# LLM 기반 의료 상담 및 병원 추천 서비스

<img src="화면.png">

## 서비스 정보

### 1. LLM 기반의 정확도 높은 의료 상담 제공
이 서비스는 LLM(대규모 언어 모델)을 활용하여 사용자에게 신뢰도 높은 의료 상담을 제공합니다.  
사용자가 증상이나 의료 관련 질문을 입력하면, 인공지능이 관련 문서를 참조하고 자연어 이해를 통해 사용자에게 적절한 의료 조언을 제공합니다.  
응급 상황이거나 중대한 질병이 우려될 경우에는 병원 방문을 권장하는 식으로 응답이 이루어집니다.



### 2. 주변 병원 추천 및 간편 예약 서비스
사용자가 의료 상담을 받은 후, 필요할 경우 현재 위치를 기준으로 주변의 병원 목록을 제공합니다.  
- 사용자의 위치를 기반으로 주변 의료기관 정보를 시각적으로 보여줍니다.  
- 간단한 지도 화면을 통해 가장 가까운 병원을 확인할 수 있습니다.  
- 병원 추천 기능은 사용자가 신속하게 필요한 의료 지원을 받을 수 있도록 돕습니다.  

**의료기관 정보 출처:**  
- 공공데이터 포털에서 제공하는 `의료기관통합.csv` 파일을 활용하였습니다.  
- 해당 데이터는 대한민국 내 병원, 의원, 보건소 등 다양한 의료기관의 위치와 이름 등을 포함하고 있습니다.  
- 데이터 다운로드 링크: [공공데이터 포털](https://www.data.go.kr/data/15075103/fileData.do#tab-layer-file)



## 사용자 인터페이스와 상호작용

### 1. 사용자 질문 입력
- 사용자는 텍스트 입력란에 증상이나 궁금한 점을 입력할 수 있습니다.

### 2. AI 분석 버튼
- 질문 입력 후, **'AI 분석 답변 생성 시작'** 버튼을 클릭하면 AI 모델이 입력된 증상을 분석하여 적절한 응답을 제공합니다.
- 과거 대화 내역도 표시되어 상담 흐름을 쉽게 파악할 수 있습니다.

### 3. 주변 병원 시각화
- 사용자의 위치 정보를 바탕으로 주변 병원을 지도에 표시합니다.
- **Folium**을 이용하여 구현되었으며, 사용자가 현재 위치에서 가장 가까운 병원들을 쉽게 찾을 수 있도록 돕습니다.



## 기술적인 특징

### 1. LLM과 Langchain 사용
- GPT-4 모델을 사용하여 사용자에게 의료 상담을 제공합니다.
- Langchain을 활용하여 문서 불러오기, 문서 분할, 임베딩 생성, 벡터 저장소 구축 등의 과정을 자동화하였습니다.
- 빠른 정보 검색 및 상담이 가능하도록 설계되었습니다.

### 2. 위치 기반 서비스
- 사용자의 위치는 **streamlit_geolocation** 모듈을 이용하여 확인합니다.
- 이를 바탕으로 주변 병원 정보를 제공합니다.
- 위치 정보가 허용된 사용자만 사용 가능하며, 의료기관의 경도와 위도를 기준으로 주변 병원 정보를 필터링합니다.



## 데모 실행 및 주의사항

### 실행 방법
1. `app.py` 파일을 실행하여 웹페이지에서 모델을 테스트할 수 있습니다.
   ```bash
   streamlit run app.py


### 데모 실행 및 주의사항
 
'app.py' 파일을 다음 명령어를 사용하여 실행하면, 웹페이지를 통해 모델을 직접 테스트해 볼 수 있습니다.  
streamlit run app.py

루트 경로에 .env 파일을 만들어, 아래 형식으로 CHATGPT API 정보를 넣어야 AI 챗봇 기능이 동작합니다.<br>
API_KEY = 본인이 발급받은 api 키

### 문의
김민수 : rlaalstn1504@naver.com
